const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-Cmfattq4.js","assets/vendor-BFeMiYcx.js"])))=>i.map(i=>d[i]);
var An=Object.defineProperty;var Gr=r=>{throw TypeError(r)};var Rn=(r,e,t)=>e in r?An(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ce=(r,e,t)=>Rn(r,typeof e!="symbol"?e+"":e,t),sr=(r,e,t)=>e.has(r)||Gr("Cannot "+t);var d=(r,e,t)=>(sr(r,e,"read from private field"),t?t.call(r):e.get(r)),w=(r,e,t)=>e.has(r)?Gr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),b=(r,e,t,s)=>(sr(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t),k=(r,e,t)=>(sr(r,e,"access private method"),t);var Dt=(r,e,t,s)=>({set _(n){b(r,e,n,t)},get _(){return d(r,e,s)}});import{r as R,a as Mn,g as Lr,R as fe,u as $n,L as he,b as In,c as W,d as Ln,e as He,B as Dn}from"./vendor-BFeMiYcx.js";import{m as pe}from"./ui-LsZuEvqp.js";import{R as Un,B as Nn,C as Fn,X as Bn,Y as qn,T as Hn,a as zn,L as Kn}from"./charts-sFwkIWCu.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var Ls={exports:{}},Jt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qn=R,Gn=Symbol.for("react.element"),Jn=Symbol.for("react.fragment"),Wn=Object.prototype.hasOwnProperty,Vn=Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yn={key:!0,ref:!0,__self:!0,__source:!0};function Ds(r,e,t){var s,n={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(s in e)Wn.call(e,s)&&!Yn.hasOwnProperty(s)&&(n[s]=e[s]);if(r&&r.defaultProps)for(s in e=r.defaultProps,e)n[s]===void 0&&(n[s]=e[s]);return{$$typeof:Gn,type:r,key:i,ref:a,props:n,_owner:Vn.current}}Jt.Fragment=Jn;Jt.jsx=Ds;Jt.jsxs=Ds;Ls.exports=Jt;var h=Ls.exports,Us,Jr=Mn;Us=Jr.createRoot,Jr.hydrateRoot;var Xn=typeof Element<"u",Zn=typeof Map=="function",ei=typeof Set=="function",ti=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function zt(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){if(r.constructor!==e.constructor)return!1;var t,s,n;if(Array.isArray(r)){if(t=r.length,t!=e.length)return!1;for(s=t;s--!==0;)if(!zt(r[s],e[s]))return!1;return!0}var i;if(Zn&&r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;for(i=r.entries();!(s=i.next()).done;)if(!e.has(s.value[0]))return!1;for(i=r.entries();!(s=i.next()).done;)if(!zt(s.value[1],e.get(s.value[0])))return!1;return!0}if(ei&&r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(i=r.entries();!(s=i.next()).done;)if(!e.has(s.value[0]))return!1;return!0}if(ti&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(e)){if(t=r.length,t!=e.length)return!1;for(s=t;s--!==0;)if(r[s]!==e[s])return!1;return!0}if(r.constructor===RegExp)return r.source===e.source&&r.flags===e.flags;if(r.valueOf!==Object.prototype.valueOf&&typeof r.valueOf=="function"&&typeof e.valueOf=="function")return r.valueOf()===e.valueOf();if(r.toString!==Object.prototype.toString&&typeof r.toString=="function"&&typeof e.toString=="function")return r.toString()===e.toString();if(n=Object.keys(r),t=n.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[s]))return!1;if(Xn&&r instanceof Element)return!1;for(s=t;s--!==0;)if(!((n[s]==="_owner"||n[s]==="__v"||n[s]==="__o")&&r.$$typeof)&&!zt(r[n[s]],e[n[s]]))return!1;return!0}return r!==r&&e!==e}var ri=function(e,t){try{return zt(e,t)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}};const si=Lr(ri);var ni=function(r,e,t,s,n,i,a,o){if(!r){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[t,s,n,i,a,o],l=0;c=new Error(e.replace(/%s/g,function(){return u[l++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},ii=ni;const Wr=Lr(ii);var ai=function(e,t,s,n){var i=s?s.call(n,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var l=a[u];if(!c(l))return!1;var f=e[l],p=t[l];if(i=s?s.call(n,f,p,l):void 0,i===!1||i===void 0&&f!==p)return!1}return!0};const oi=Lr(ai);var Ns=(r=>(r.BASE="base",r.BODY="body",r.HEAD="head",r.HTML="html",r.LINK="link",r.META="meta",r.NOSCRIPT="noscript",r.SCRIPT="script",r.STYLE="style",r.TITLE="title",r.FRAGMENT="Symbol(react.fragment)",r))(Ns||{}),nr={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Vr=Object.values(Ns),Dr={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ci=Object.entries(Dr).reduce((r,[e,t])=>(r[t]=e,r),{}),te="data-rh",Je={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},We=(r,e)=>{for(let t=r.length-1;t>=0;t-=1){const s=r[t];if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}return null},li=r=>{let e=We(r,"title");const t=We(r,Je.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const s=We(r,Je.DEFAULT_TITLE);return e||s||void 0},ui=r=>We(r,Je.ON_CHANGE_CLIENT_STATE)||(()=>{}),ir=(r,e)=>e.filter(t=>typeof t[r]<"u").map(t=>t[r]).reduce((t,s)=>({...t,...s}),{}),hi=(r,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,s)=>{if(!t.length){const n=Object.keys(s);for(let i=0;i<n.length;i+=1){const o=n[i].toLowerCase();if(r.indexOf(o)!==-1&&s[o])return t.concat(s)}}return t},[]),di=r=>console&&typeof console.warn=="function"&&console.warn(r),gt=(r,e,t)=>{const s={};return t.filter(n=>Array.isArray(n[r])?!0:(typeof n[r]<"u"&&di(`Helmet: ${r} should be of type "Array". Instead found type "${typeof n[r]}"`),!1)).map(n=>n[r]).reverse().reduce((n,i)=>{const a={};i.filter(c=>{let u;const l=Object.keys(c);for(let p=0;p<l.length;p+=1){const m=l[p],_=m.toLowerCase();e.indexOf(_)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(_==="rel"&&c[_].toLowerCase()==="stylesheet")&&(u=_),e.indexOf(m)!==-1&&(m==="innerHTML"||m==="cssText"||m==="itemprop")&&(u=m)}if(!u||!c[u])return!1;const f=c[u].toLowerCase();return s[u]||(s[u]={}),a[u]||(a[u]={}),s[u][f]?!1:(a[u][f]=!0,!0)}).reverse().forEach(c=>n.push(c));const o=Object.keys(a);for(let c=0;c<o.length;c+=1){const u=o[c],l={...s[u],...a[u]};s[u]=l}return n},[]).reverse()},fi=(r,e)=>{if(Array.isArray(r)&&r.length){for(let t=0;t<r.length;t+=1)if(r[t][e])return!0}return!1},pi=r=>({baseTag:hi(["href"],r),bodyAttributes:ir("bodyAttributes",r),defer:We(r,Je.DEFER),encode:We(r,Je.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ir("htmlAttributes",r),linkTags:gt("link",["rel","href"],r),metaTags:gt("meta",["name","charset","http-equiv","property","itemprop"],r),noscriptTags:gt("noscript",["innerHTML"],r),onChangeClientState:ui(r),scriptTags:gt("script",["src","innerHTML"],r),styleTags:gt("style",["cssText"],r),title:li(r),titleAttributes:ir("titleAttributes",r),prioritizeSeoTags:fi(r,Je.PRIORITIZE_SEO_TAGS)}),Fs=r=>Array.isArray(r)?r.join(""):r,mi=(r,e)=>{const t=Object.keys(r);for(let s=0;s<t.length;s+=1)if(e[t[s]]&&e[t[s]].includes(r[t[s]]))return!0;return!1},ar=(r,e)=>Array.isArray(r)?r.reduce((t,s)=>(mi(s,e)?t.priority.push(s):t.default.push(s),t),{priority:[],default:[]}):{default:r,priority:[]},Yr=(r,e)=>({...r,[e]:void 0}),gi=["noscript","script","style"],fr=(r,e=!0)=>e===!1?String(r):String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Bs=r=>Object.keys(r).reduce((e,t)=>{const s=typeof r[t]<"u"?`${t}="${r[t]}"`:`${t}`;return e?`${e} ${s}`:s},""),yi=(r,e,t,s)=>{const n=Bs(t),i=Fs(e);return n?`<${r} ${te}="true" ${n}>${fr(i,s)}</${r}>`:`<${r} ${te}="true">${fr(i,s)}</${r}>`},bi=(r,e,t=!0)=>e.reduce((s,n)=>{const i=n,a=Object.keys(i).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,l)=>{const f=typeof i[l]>"u"?l:`${l}="${fr(i[l],t)}"`;return u?`${u} ${f}`:f},""),o=i.innerHTML||i.cssText||"",c=gi.indexOf(r)===-1;return`${s}<${r} ${te}="true" ${a}${c?"/>":`>${o}</${r}>`}`},""),qs=(r,e={})=>Object.keys(r).reduce((t,s)=>{const n=Dr[s];return t[n||s]=r[s],t},e),_i=(r,e,t)=>{const s={key:e,[te]:!0},n=qs(t,s);return[fe.createElement("title",n,e)]},Kt=(r,e)=>e.map((t,s)=>{const n={key:s,[te]:!0};return Object.keys(t).forEach(i=>{const o=Dr[i]||i;if(o==="innerHTML"||o==="cssText"){const c=t.innerHTML||t.cssText;n.dangerouslySetInnerHTML={__html:c}}else n[o]=t[i]}),fe.createElement(r,n)}),Q=(r,e,t=!0)=>{switch(r){case"title":return{toComponent:()=>_i(r,e.title,e.titleAttributes),toString:()=>yi(r,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>qs(e),toString:()=>Bs(e)};default:return{toComponent:()=>Kt(r,e),toString:()=>bi(r,e,t)}}},wi=({metaTags:r,linkTags:e,scriptTags:t,encode:s})=>{const n=ar(r,nr.meta),i=ar(e,nr.link),a=ar(t,nr.script);return{priorityMethods:{toComponent:()=>[...Kt("meta",n.priority),...Kt("link",i.priority),...Kt("script",a.priority)],toString:()=>`${Q("meta",n.priority,s)} ${Q("link",i.priority,s)} ${Q("script",a.priority,s)}`},metaTags:n.default,linkTags:i.default,scriptTags:a.default}},vi=r=>{const{baseTag:e,bodyAttributes:t,encode:s=!0,htmlAttributes:n,noscriptTags:i,styleTags:a,title:o="",titleAttributes:c,prioritizeSeoTags:u}=r;let{linkTags:l,metaTags:f,scriptTags:p}=r,m={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:m,linkTags:l,metaTags:f,scriptTags:p}=wi(r)),{priority:m,base:Q("base",e,s),bodyAttributes:Q("bodyAttributes",t,s),htmlAttributes:Q("htmlAttributes",n,s),link:Q("link",l,s),meta:Q("meta",f,s),noscript:Q("noscript",i,s),script:Q("script",p,s),style:Q("style",a,s),title:Q("title",{title:o,titleAttributes:c},s)}},Hs=vi,Ut=[],zs=!!(typeof window<"u"&&window.document&&window.document.createElement),pr=class{constructor(r,e){ce(this,"instances",[]);ce(this,"canUseDOM",zs);ce(this,"context");ce(this,"value",{setHelmet:r=>{this.context.helmet=r},helmetInstances:{get:()=>this.canUseDOM?Ut:this.instances,add:r=>{(this.canUseDOM?Ut:this.instances).push(r)},remove:r=>{const e=(this.canUseDOM?Ut:this.instances).indexOf(r);(this.canUseDOM?Ut:this.instances).splice(e,1)}}});this.context=r,this.canUseDOM=e||!1,e||(r.helmet=Hs({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},xi={},Ks=fe.createContext(xi),Ce,Qs=(Ce=class extends R.Component{constructor(t){super(t);ce(this,"helmetData");this.helmetData=new pr(this.props.context||{},Ce.canUseDOM)}render(){return fe.createElement(Ks.Provider,{value:this.helmetData.value},this.props.children)}},ce(Ce,"canUseDOM",zs),Ce),ze=(r,e)=>{const t=document.head||document.querySelector("head"),s=t.querySelectorAll(`${r}[${te}]`),n=[].slice.call(s),i=[];let a;return e&&e.length&&e.forEach(o=>{const c=document.createElement(r);for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u))if(u==="innerHTML")c.innerHTML=o.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=o.cssText:c.appendChild(document.createTextNode(o.cssText));else{const l=u,f=typeof o[l]>"u"?"":o[l];c.setAttribute(u,f)}c.setAttribute(te,"true"),n.some((u,l)=>(a=l,c.isEqualNode(u)))?n.splice(a,1):i.push(c)}),n.forEach(o=>{var c;return(c=o.parentNode)==null?void 0:c.removeChild(o)}),i.forEach(o=>t.appendChild(o)),{oldTags:n,newTags:i}},mr=(r,e)=>{const t=document.getElementsByTagName(r)[0];if(!t)return;const s=t.getAttribute(te),n=s?s.split(","):[],i=[...n],a=Object.keys(e);for(const o of a){const c=e[o]||"";t.getAttribute(o)!==c&&t.setAttribute(o,c),n.indexOf(o)===-1&&n.push(o);const u=i.indexOf(o);u!==-1&&i.splice(u,1)}for(let o=i.length-1;o>=0;o-=1)t.removeAttribute(i[o]);n.length===i.length?t.removeAttribute(te):t.getAttribute(te)!==a.join(",")&&t.setAttribute(te,a.join(","))},ki=(r,e)=>{typeof r<"u"&&document.title!==r&&(document.title=Fs(r)),mr("title",e)},Xr=(r,e)=>{const{baseTag:t,bodyAttributes:s,htmlAttributes:n,linkTags:i,metaTags:a,noscriptTags:o,onChangeClientState:c,scriptTags:u,styleTags:l,title:f,titleAttributes:p}=r;mr("body",s),mr("html",n),ki(f,p);const m={baseTag:ze("base",t),linkTags:ze("link",i),metaTags:ze("meta",a),noscriptTags:ze("noscript",o),scriptTags:ze("script",u),styleTags:ze("style",l)},_={},g={};Object.keys(m).forEach(y=>{const{newTags:x,oldTags:E}=m[y];x.length&&(_[y]=x),E.length&&(g[y]=m[y].oldTags)}),e&&e(),c(r,_,g)},yt=null,ji=r=>{yt&&cancelAnimationFrame(yt),r.defer?yt=requestAnimationFrame(()=>{Xr(r,()=>{yt=null})}):(Xr(r),yt=null)},Si=ji,Zr=class extends R.Component{constructor(){super(...arguments);ce(this,"rendered",!1)}shouldComponentUpdate(e){return!oi(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let s=null;const n=pi(e.get().map(i=>{const a={...i.props};return delete a.context,a}));Qs.canUseDOM?Si(n):s=Hs(n),t(s)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},dr,ft=(dr=class extends R.Component{shouldComponentUpdate(r){return!si(Yr(this.props,"helmetData"),Yr(r,"helmetData"))}mapNestedChildrenToProps(r,e){if(!e)return null;switch(r.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${r.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(r,e,t,s){return{...e,[r.type]:[...e[r.type]||[],{...t,...this.mapNestedChildrenToProps(r,s)}]}}mapObjectTypeChildren(r,e,t,s){switch(r.type){case"title":return{...e,[r.type]:s,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[r.type]:{...t}}}}mapArrayTypeChildrenToProps(r,e){let t={...e};return Object.keys(r).forEach(s=>{t={...t,[s]:r[s]}}),t}warnOnInvalidChildren(r,e){return Wr(Vr.some(t=>r.type===t),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Vr.join(", ")} are allowed. Helmet does not support rendering <${r.type}> elements. Refer to our API for more information.`),Wr(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${r.type}>. Did you forget to wrap your children in braces? ( <${r.type}>{\`\`}</${r.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(r,e){let t={};return fe.Children.forEach(r,s=>{if(!s||!s.props)return;const{children:n,...i}=s.props,a=Object.keys(i).reduce((c,u)=>(c[ci[u]||u]=i[u],c),{});let{type:o}=s;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(s,n),o){case"Symbol(react.fragment)":e=this.mapChildrenToProps(n,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(s,t,a,n);break;default:e=this.mapObjectTypeChildren(s,e,a,n);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:r,...e}=this.props;let t={...e},{helmetData:s}=e;if(r&&(t=this.mapChildrenToProps(r,t)),s&&!(s instanceof pr)){const n=s;s=new pr(n.context,!0),delete t.helmetData}return s?fe.createElement(Zr,{...t,context:s.value}):fe.createElement(Ks.Consumer,null,n=>fe.createElement(Zr,{...t,context:n}))}},ce(dr,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),dr),At=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ue=typeof window>"u"||"Deno"in globalThis;function J(){}function Ti(r,e){return typeof r=="function"?r(e):r}function gr(r){return typeof r=="number"&&r>=0&&r!==1/0}function Gs(r,e){return Math.max(r+(e||0)-Date.now(),0)}function Ve(r,e){return typeof r=="function"?r(e):r}function ee(r,e){return typeof r=="function"?r(e):r}function es(r,e){const{type:t="all",exact:s,fetchStatus:n,predicate:i,queryKey:a,stale:o}=r;if(a){if(s){if(e.queryHash!==Ur(a,e.options))return!1}else if(!St(e.queryKey,a))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||n&&n!==e.state.fetchStatus||i&&!i(e))}function ts(r,e){const{exact:t,status:s,predicate:n,mutationKey:i}=r;if(i){if(!e.options.mutationKey)return!1;if(t){if(jt(e.options.mutationKey)!==jt(i))return!1}else if(!St(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||n&&!n(e))}function Ur(r,e){return((e==null?void 0:e.queryKeyHashFn)||jt)(r)}function jt(r){return JSON.stringify(r,(e,t)=>br(t)?Object.keys(t).sort().reduce((s,n)=>(s[n]=t[n],s),{}):t)}function St(r,e){return r===e?!0:typeof r!=typeof e?!1:r&&e&&typeof r=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!St(r[t],e[t])):!1}function Js(r,e){if(r===e)return r;const t=rs(r)&&rs(e);if(t||br(r)&&br(e)){const s=t?r:Object.keys(r),n=s.length,i=t?e:Object.keys(e),a=i.length,o=t?[]:{};let c=0;for(let u=0;u<a;u++){const l=t?u:i[u];(!t&&s.includes(l)||t)&&r[l]===void 0&&e[l]===void 0?(o[l]=void 0,c++):(o[l]=Js(r[l],e[l]),o[l]===r[l]&&r[l]!==void 0&&c++)}return n===a&&c===n?r:o}return e}function yr(r,e){if(!e||Object.keys(r).length!==Object.keys(e).length)return!1;for(const t in r)if(r[t]!==e[t])return!1;return!0}function rs(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function br(r){if(!ss(r))return!1;const e=r.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!ss(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function ss(r){return Object.prototype.toString.call(r)==="[object Object]"}function Pi(r){return new Promise(e=>{setTimeout(e,r)})}function _r(r,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(r,e):t.structuralSharing!==!1?Js(r,e):e}function Oi(r,e,t=0){const s=[...r,e];return t&&s.length>t?s.slice(1):s}function Ei(r,e,t=0){const s=[e,...r];return t&&s.length>t?s.slice(0,-1):s}var Nr=Symbol();function Ws(r,e){return!r.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!r.queryFn||r.queryFn===Nr?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var Ae,we,Xe,Ps,Ci=(Ps=class extends At{constructor(){super();w(this,Ae);w(this,we);w(this,Xe);b(this,Xe,e=>{if(!Ue&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){d(this,we)||this.setEventListener(d(this,Xe))}onUnsubscribe(){var e;this.hasListeners()||((e=d(this,we))==null||e.call(this),b(this,we,void 0))}setEventListener(e){var t;b(this,Xe,e),(t=d(this,we))==null||t.call(this),b(this,we,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){d(this,Ae)!==e&&(b(this,Ae,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof d(this,Ae)=="boolean"?d(this,Ae):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ae=new WeakMap,we=new WeakMap,Xe=new WeakMap,Ps),Fr=new Ci,Ze,ve,et,Os,Ai=(Os=class extends At{constructor(){super();w(this,Ze,!0);w(this,ve);w(this,et);b(this,et,e=>{if(!Ue&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){d(this,ve)||this.setEventListener(d(this,et))}onUnsubscribe(){var e;this.hasListeners()||((e=d(this,ve))==null||e.call(this),b(this,ve,void 0))}setEventListener(e){var t;b(this,et,e),(t=d(this,ve))==null||t.call(this),b(this,ve,e(this.setOnline.bind(this)))}setOnline(e){d(this,Ze)!==e&&(b(this,Ze,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return d(this,Ze)}},Ze=new WeakMap,ve=new WeakMap,et=new WeakMap,Os),Qt=new Ai;function wr(){let r,e;const t=new Promise((n,i)=>{r=n,e=i});t.status="pending",t.catch(()=>{});function s(n){Object.assign(t,n),delete t.resolve,delete t.reject}return t.resolve=n=>{s({status:"fulfilled",value:n}),r(n)},t.reject=n=>{s({status:"rejected",reason:n}),e(n)},t}function Ri(r){return Math.min(1e3*2**r,3e4)}function Vs(r){return(r??"online")==="online"?Qt.isOnline():!0}var Ys=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function or(r){return r instanceof Ys}function Xs(r){let e=!1,t=0,s=!1,n;const i=wr(),a=g=>{var y;s||(p(new Ys(g)),(y=r.abort)==null||y.call(r))},o=()=>{e=!0},c=()=>{e=!1},u=()=>Fr.isFocused()&&(r.networkMode==="always"||Qt.isOnline())&&r.canRun(),l=()=>Vs(r.networkMode)&&r.canRun(),f=g=>{var y;s||(s=!0,(y=r.onSuccess)==null||y.call(r,g),n==null||n(),i.resolve(g))},p=g=>{var y;s||(s=!0,(y=r.onError)==null||y.call(r,g),n==null||n(),i.reject(g))},m=()=>new Promise(g=>{var y;n=x=>{(s||u())&&g(x)},(y=r.onPause)==null||y.call(r)}).then(()=>{var g;n=void 0,s||(g=r.onContinue)==null||g.call(r)}),_=()=>{if(s)return;let g;const y=t===0?r.initialPromise:void 0;try{g=y??r.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var V;if(s)return;const E=r.retry??(Ue?0:3),T=r.retryDelay??Ri,O=typeof T=="function"?T(t,x):T,A=E===!0||typeof E=="number"&&t<E||typeof E=="function"&&E(t,x);if(e||!A){p(x);return}t++,(V=r.onFail)==null||V.call(r,t,x),Pi(O).then(()=>u()?void 0:m()).then(()=>{e?p(x):_()})})};return{promise:i,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:c,canStart:l,start:()=>(l()?_():m().then(_),i)}}function Mi(){let r=[],e=0,t=o=>{o()},s=o=>{o()},n=o=>setTimeout(o,0);const i=o=>{e?r.push(o):n(()=>{t(o)})},a=()=>{const o=r;r=[],o.length&&n(()=>{s(()=>{o.forEach(c=>{t(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||a()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{t=o},setBatchNotifyFunction:o=>{s=o},setScheduler:o=>{n=o}}}var D=Mi(),Re,Es,Zs=(Es=class{constructor(){w(this,Re)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gr(this.gcTime)&&b(this,Re,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(Ue?1/0:5*60*1e3))}clearGcTimeout(){d(this,Re)&&(clearTimeout(d(this,Re)),b(this,Re,void 0))}},Re=new WeakMap,Es),tt,rt,G,U,Pt,Me,Y,le,Cs,$i=(Cs=class extends Zs{constructor(e){super();w(this,Y);w(this,tt);w(this,rt);w(this,G);w(this,U);w(this,Pt);w(this,Me);b(this,Me,!1),b(this,Pt,e.defaultOptions),this.setOptions(e.options),this.observers=[],b(this,G,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,b(this,tt,Ii(this.options)),this.state=e.state??d(this,tt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=d(this,U))==null?void 0:e.promise}setOptions(e){this.options={...d(this,Pt),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&d(this,G).remove(this)}setData(e,t){const s=_r(this.state.data,e,this.options);return k(this,Y,le).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){k(this,Y,le).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,n;const t=(s=d(this,U))==null?void 0:s.promise;return(n=d(this,U))==null||n.cancel(e),t?t.then(J).catch(J):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(d(this,tt))}isActive(){return this.observers.some(e=>ee(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nr||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Gs(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=d(this,U))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=d(this,U))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),d(this,G).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(d(this,U)&&(d(this,Me)?d(this,U).cancel({revert:!0}):d(this,U).cancelRetry()),this.scheduleGc()),d(this,G).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||k(this,Y,le).call(this,{type:"invalidate"})}fetch(e,t){var c,u,l;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(d(this,U))return d(this,U).continueRetry(),d(this,U).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,n=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(b(this,Me,!0),s.signal)})},i=()=>{const f=Ws(this.options,t),p={queryKey:this.queryKey,meta:this.meta};return n(p),b(this,Me,!1),this.options.persister?this.options.persister(f,p,this):f(p)},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};n(a),(c=this.options.behavior)==null||c.onFetch(a,this),b(this,rt,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&k(this,Y,le).call(this,{type:"fetch",meta:(l=a.fetchOptions)==null?void 0:l.meta});const o=f=>{var p,m,_,g;or(f)&&f.silent||k(this,Y,le).call(this,{type:"error",error:f}),or(f)||((m=(p=d(this,G).config).onError)==null||m.call(p,f,this),(g=(_=d(this,G).config).onSettled)==null||g.call(_,this.state.data,f,this)),this.scheduleGc()};return b(this,U,Xs({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var p,m,_,g;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){o(y);return}(m=(p=d(this,G).config).onSuccess)==null||m.call(p,f,this),(g=(_=d(this,G).config).onSettled)==null||g.call(_,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,p)=>{k(this,Y,le).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{k(this,Y,le).call(this,{type:"pause"})},onContinue:()=>{k(this,Y,le).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),d(this,U).start()}},tt=new WeakMap,rt=new WeakMap,G=new WeakMap,U=new WeakMap,Pt=new WeakMap,Me=new WeakMap,Y=new WeakSet,le=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...en(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return or(n)&&n.revert&&d(this,rt)?{...d(this,rt),fetchStatus:"idle"}:{...s,error:n,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),D.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),d(this,G).notify({query:this,type:"updated",action:e})})},Cs);function en(r,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Vs(e.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function Ii(r){const e=typeof r.initialData=="function"?r.initialData():r.initialData,t=e!==void 0,s=t?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var se,As,Li=(As=class extends At{constructor(e={}){super();w(this,se);this.config=e,b(this,se,new Map)}build(e,t,s){const n=t.queryKey,i=t.queryHash??Ur(n,t);let a=this.get(i);return a||(a=new $i({cache:this,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){d(this,se).has(e.queryHash)||(d(this,se).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=d(this,se).get(e.queryHash);t&&(e.destroy(),t===e&&d(this,se).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){D.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return d(this,se).get(e)}getAll(){return[...d(this,se).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>es(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>es(e,s)):t}notify(e){D.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){D.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){D.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},se=new WeakMap,As),ne,F,$e,ie,me,Rs,Di=(Rs=class extends Zs{constructor(e){super();w(this,ie);w(this,ne);w(this,F);w(this,$e);this.mutationId=e.mutationId,b(this,F,e.mutationCache),b(this,ne,[]),this.state=e.state||Ui(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){d(this,ne).includes(e)||(d(this,ne).push(e),this.clearGcTimeout(),d(this,F).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){b(this,ne,d(this,ne).filter(t=>t!==e)),this.scheduleGc(),d(this,F).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){d(this,ne).length||(this.state.status==="pending"?this.scheduleGc():d(this,F).remove(this))}continue(){var e;return((e=d(this,$e))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var n,i,a,o,c,u,l,f,p,m,_,g,y,x,E,T,O,A,V,N;b(this,$e,Xs({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(I,M)=>{k(this,ie,me).call(this,{type:"failed",failureCount:I,error:M})},onPause:()=>{k(this,ie,me).call(this,{type:"pause"})},onContinue:()=>{k(this,ie,me).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>d(this,F).canRun(this)}));const t=this.state.status==="pending",s=!d(this,$e).canStart();try{if(!t){k(this,ie,me).call(this,{type:"pending",variables:e,isPaused:s}),await((i=(n=d(this,F).config).onMutate)==null?void 0:i.call(n,e,this));const M=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,e));M!==this.state.context&&k(this,ie,me).call(this,{type:"pending",context:M,variables:e,isPaused:s})}const I=await d(this,$e).start();return await((u=(c=d(this,F).config).onSuccess)==null?void 0:u.call(c,I,e,this.state.context,this)),await((f=(l=this.options).onSuccess)==null?void 0:f.call(l,I,e,this.state.context)),await((m=(p=d(this,F).config).onSettled)==null?void 0:m.call(p,I,null,this.state.variables,this.state.context,this)),await((g=(_=this.options).onSettled)==null?void 0:g.call(_,I,null,e,this.state.context)),k(this,ie,me).call(this,{type:"success",data:I}),I}catch(I){try{throw await((x=(y=d(this,F).config).onError)==null?void 0:x.call(y,I,e,this.state.context,this)),await((T=(E=this.options).onError)==null?void 0:T.call(E,I,e,this.state.context)),await((A=(O=d(this,F).config).onSettled)==null?void 0:A.call(O,void 0,I,this.state.variables,this.state.context,this)),await((N=(V=this.options).onSettled)==null?void 0:N.call(V,void 0,I,e,this.state.context)),I}finally{k(this,ie,me).call(this,{type:"error",error:I})}}finally{d(this,F).runNext(this)}}},ne=new WeakMap,F=new WeakMap,$e=new WeakMap,ie=new WeakSet,me=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),D.batch(()=>{d(this,ne).forEach(s=>{s.onMutationUpdate(e)}),d(this,F).notify({mutation:this,type:"updated",action:e})})},Rs);function Ui(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var de,X,Ot,Ms,Ni=(Ms=class extends At{constructor(e={}){super();w(this,de);w(this,X);w(this,Ot);this.config=e,b(this,de,new Set),b(this,X,new Map),b(this,Ot,0)}build(e,t,s){const n=new Di({mutationCache:this,mutationId:++Dt(this,Ot)._,options:e.defaultMutationOptions(t),state:s});return this.add(n),n}add(e){d(this,de).add(e);const t=Nt(e);if(typeof t=="string"){const s=d(this,X).get(t);s?s.push(e):d(this,X).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(d(this,de).delete(e)){const t=Nt(e);if(typeof t=="string"){const s=d(this,X).get(t);if(s)if(s.length>1){const n=s.indexOf(e);n!==-1&&s.splice(n,1)}else s[0]===e&&d(this,X).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Nt(e);if(typeof t=="string"){const s=d(this,X).get(t),n=s==null?void 0:s.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){var s;const t=Nt(e);if(typeof t=="string"){const n=(s=d(this,X).get(t))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){D.batch(()=>{d(this,de).forEach(e=>{this.notify({type:"removed",mutation:e})}),d(this,de).clear(),d(this,X).clear()})}getAll(){return Array.from(d(this,de))}find(e){const t={exact:!0,...e};return this.getAll().find(s=>ts(t,s))}findAll(e={}){return this.getAll().filter(t=>ts(e,t))}notify(e){D.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return D.batch(()=>Promise.all(e.map(t=>t.continue().catch(J))))}},de=new WeakMap,X=new WeakMap,Ot=new WeakMap,Ms);function Nt(r){var e;return(e=r.options.scope)==null?void 0:e.id}function ns(r){return{onFetch:(e,t)=>{var l,f,p,m,_;const s=e.options,n=(p=(f=(l=e.fetchOptions)==null?void 0:l.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],a=((_=e.state.data)==null?void 0:_.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=Ws(e.options,e.fetchOptions),E=async(T,O,A)=>{if(g)return Promise.reject();if(O==null&&T.pages.length)return Promise.resolve(T);const V={queryKey:e.queryKey,pageParam:O,direction:A?"backward":"forward",meta:e.options.meta};y(V);const N=await x(V),{maxPages:I}=e.options,M=A?Ei:Oi;return{pages:M(T.pages,N,I),pageParams:M(T.pageParams,O,I)}};if(n&&i.length){const T=n==="backward",O=T?Fi:is,A={pages:i,pageParams:a},V=O(s,A);o=await E(A,V,T)}else{const T=r??i.length;do{const O=c===0?a[0]??s.initialPageParam:is(s,o);if(c>0&&O==null)break;o=await E(o,O),c++}while(c<T)}return o};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function is(r,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?r.getNextPageParam(e[s],e,t[s],t):void 0}function Fi(r,{pages:e,pageParams:t}){var s;return e.length>0?(s=r.getPreviousPageParam)==null?void 0:s.call(r,e[0],e,t[0],t):void 0}var $,xe,ke,st,nt,je,it,at,$s,Bi=($s=class{constructor(r={}){w(this,$);w(this,xe);w(this,ke);w(this,st);w(this,nt);w(this,je);w(this,it);w(this,at);b(this,$,r.queryCache||new Li),b(this,xe,r.mutationCache||new Ni),b(this,ke,r.defaultOptions||{}),b(this,st,new Map),b(this,nt,new Map),b(this,je,0)}mount(){Dt(this,je)._++,d(this,je)===1&&(b(this,it,Fr.subscribe(async r=>{r&&(await this.resumePausedMutations(),d(this,$).onFocus())})),b(this,at,Qt.subscribe(async r=>{r&&(await this.resumePausedMutations(),d(this,$).onOnline())})))}unmount(){var r,e;Dt(this,je)._--,d(this,je)===0&&((r=d(this,it))==null||r.call(this),b(this,it,void 0),(e=d(this,at))==null||e.call(this),b(this,at,void 0))}isFetching(r){return d(this,$).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return d(this,xe).findAll({...r,status:"pending"}).length}getQueryData(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=d(this,$).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(r){const e=this.defaultQueryOptions(r),t=d(this,$).build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(r):(r.revalidateIfStale&&t.isStaleByTime(Ve(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(r){return d(this,$).findAll(r).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(r,e,t){const s=this.defaultQueryOptions({queryKey:r}),n=d(this,$).get(s.queryHash),i=n==null?void 0:n.state.data,a=Ti(e,i);if(a!==void 0)return d(this,$).build(this,s).setData(a,{...t,manual:!0})}setQueriesData(r,e,t){return D.batch(()=>d(this,$).findAll(r).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=d(this,$).get(e.queryHash))==null?void 0:t.state}removeQueries(r){const e=d(this,$);D.batch(()=>{e.findAll(r).forEach(t=>{e.remove(t)})})}resetQueries(r,e){const t=d(this,$),s={type:"active",...r};return D.batch(()=>(t.findAll(r).forEach(n=>{n.reset()}),this.refetchQueries(s,e)))}cancelQueries(r,e={}){const t={revert:!0,...e},s=D.batch(()=>d(this,$).findAll(r).map(n=>n.cancel(t)));return Promise.all(s).then(J).catch(J)}invalidateQueries(r,e={}){return D.batch(()=>{if(d(this,$).findAll(r).forEach(s=>{s.invalidate()}),(r==null?void 0:r.refetchType)==="none")return Promise.resolve();const t={...r,type:(r==null?void 0:r.refetchType)??(r==null?void 0:r.type)??"active"};return this.refetchQueries(t,e)})}refetchQueries(r,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=D.batch(()=>d(this,$).findAll(r).filter(n=>!n.isDisabled()).map(n=>{let i=n.fetch(void 0,t);return t.throwOnError||(i=i.catch(J)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(J)}fetchQuery(r){const e=this.defaultQueryOptions(r);e.retry===void 0&&(e.retry=!1);const t=d(this,$).build(this,e);return t.isStaleByTime(Ve(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(J).catch(J)}fetchInfiniteQuery(r){return r.behavior=ns(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(J).catch(J)}ensureInfiniteQueryData(r){return r.behavior=ns(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return Qt.isOnline()?d(this,xe).resumePausedMutations():Promise.resolve()}getQueryCache(){return d(this,$)}getMutationCache(){return d(this,xe)}getDefaultOptions(){return d(this,ke)}setDefaultOptions(r){b(this,ke,r)}setQueryDefaults(r,e){d(this,st).set(jt(r),{queryKey:r,defaultOptions:e})}getQueryDefaults(r){const e=[...d(this,st).values()],t={};return e.forEach(s=>{St(r,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(r,e){d(this,nt).set(jt(r),{mutationKey:r,defaultOptions:e})}getMutationDefaults(r){const e=[...d(this,nt).values()];let t={};return e.forEach(s=>{St(r,s.mutationKey)&&(t={...t,...s.defaultOptions})}),t}defaultQueryOptions(r){if(r._defaulted)return r;const e={...d(this,ke).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return e.queryHash||(e.queryHash=Ur(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Nr&&(e.enabled=!1),e}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{...d(this,ke).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){d(this,$).clear(),d(this,xe).clear()}},$=new WeakMap,xe=new WeakMap,ke=new WeakMap,st=new WeakMap,nt=new WeakMap,je=new WeakMap,it=new WeakMap,at=new WeakMap,$s),H,j,Et,B,Ie,ot,Se,ae,Ct,ct,lt,Le,De,Te,ut,P,wt,vr,xr,kr,jr,Sr,Tr,Pr,tn,Is,qi=(Is=class extends At{constructor(e,t){super();w(this,P);w(this,H);w(this,j);w(this,Et);w(this,B);w(this,Ie);w(this,ot);w(this,Se);w(this,ae);w(this,Ct);w(this,ct);w(this,lt);w(this,Le);w(this,De);w(this,Te);w(this,ut,new Set);this.options=t,b(this,H,e),b(this,ae,null),b(this,Se,wr()),this.options.experimental_prefetchInRender||d(this,Se).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(d(this,j).addObserver(this),as(d(this,j),this.options)?k(this,P,wt).call(this):this.updateResult(),k(this,P,jr).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Or(d(this,j),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Or(d(this,j),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,k(this,P,Sr).call(this),k(this,P,Tr).call(this),d(this,j).removeObserver(this)}setOptions(e,t){const s=this.options,n=d(this,j);if(this.options=d(this,H).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ee(this.options.enabled,d(this,j))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");k(this,P,Pr).call(this),d(this,j).setOptions(this.options),s._defaulted&&!yr(this.options,s)&&d(this,H).getQueryCache().notify({type:"observerOptionsUpdated",query:d(this,j),observer:this});const i=this.hasListeners();i&&os(d(this,j),n,this.options,s)&&k(this,P,wt).call(this),this.updateResult(t),i&&(d(this,j)!==n||ee(this.options.enabled,d(this,j))!==ee(s.enabled,d(this,j))||Ve(this.options.staleTime,d(this,j))!==Ve(s.staleTime,d(this,j)))&&k(this,P,vr).call(this);const a=k(this,P,xr).call(this);i&&(d(this,j)!==n||ee(this.options.enabled,d(this,j))!==ee(s.enabled,d(this,j))||a!==d(this,Te))&&k(this,P,kr).call(this,a)}getOptimisticResult(e){const t=d(this,H).getQueryCache().build(d(this,H),e),s=this.createResult(t,e);return zi(this,s)&&(b(this,B,s),b(this,ot,this.options),b(this,Ie,d(this,j).state)),s}getCurrentResult(){return d(this,B)}trackResult(e,t){const s={};return Object.keys(e).forEach(n=>{Object.defineProperty(s,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),t==null||t(n),e[n])})}),s}trackProp(e){d(this,ut).add(e)}getCurrentQuery(){return d(this,j)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=d(this,H).defaultQueryOptions(e),s=d(this,H).getQueryCache().build(d(this,H),t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return k(this,P,wt).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),d(this,B)))}createResult(e,t){var I;const s=d(this,j),n=this.options,i=d(this,B),a=d(this,Ie),o=d(this,ot),u=e!==s?e.state:d(this,Et),{state:l}=e;let f={...l},p=!1,m;if(t._optimisticResults){const M=this.hasListeners(),Be=!M&&as(e,t),qe=M&&os(e,s,t,n);(Be||qe)&&(f={...f,...en(l.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:_,errorUpdatedAt:g,status:y}=f;if(t.select&&f.data!==void 0)if(i&&f.data===(a==null?void 0:a.data)&&t.select===d(this,Ct))m=d(this,ct);else try{b(this,Ct,t.select),m=t.select(f.data),m=_r(i==null?void 0:i.data,m,t),b(this,ct,m),b(this,ae,null)}catch(M){b(this,ae,M)}else m=f.data;if(t.placeholderData!==void 0&&m===void 0&&y==="pending"){let M;if(i!=null&&i.isPlaceholderData&&t.placeholderData===(o==null?void 0:o.placeholderData))M=i.data;else if(M=typeof t.placeholderData=="function"?t.placeholderData((I=d(this,lt))==null?void 0:I.state.data,d(this,lt)):t.placeholderData,t.select&&M!==void 0)try{M=t.select(M),b(this,ae,null)}catch(Be){b(this,ae,Be)}M!==void 0&&(y="success",m=_r(i==null?void 0:i.data,M,t),p=!0)}d(this,ae)&&(_=d(this,ae),m=d(this,ct),g=Date.now(),y="error");const x=f.fetchStatus==="fetching",E=y==="pending",T=y==="error",O=E&&x,A=m!==void 0,N={status:y,fetchStatus:f.fetchStatus,isPending:E,isSuccess:y==="success",isError:T,isInitialLoading:O,isLoading:O,data:m,dataUpdatedAt:f.dataUpdatedAt,error:_,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!E,isLoadingError:T&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:T&&A,isStale:Br(e,t),refetch:this.refetch,promise:d(this,Se)};if(this.options.experimental_prefetchInRender){const M=Lt=>{N.status==="error"?Lt.reject(N.error):N.data!==void 0&&Lt.resolve(N.data)},Be=()=>{const Lt=b(this,Se,N.promise=wr());M(Lt)},qe=d(this,Se);switch(qe.status){case"pending":e.queryHash===s.queryHash&&M(qe);break;case"fulfilled":(N.status==="error"||N.data!==qe.value)&&Be();break;case"rejected":(N.status!=="error"||N.error!==qe.reason)&&Be();break}}return N}updateResult(e){const t=d(this,B),s=this.createResult(d(this,j),this.options);if(b(this,Ie,d(this,j).state),b(this,ot,this.options),d(this,Ie).data!==void 0&&b(this,lt,d(this,j)),yr(s,t))return;b(this,B,s);const n={},i=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!d(this,ut).size)return!0;const c=new Set(o??d(this,ut));return this.options.throwOnError&&c.add("error"),Object.keys(d(this,B)).some(u=>{const l=u;return d(this,B)[l]!==t[l]&&c.has(l)})};(e==null?void 0:e.listeners)!==!1&&i()&&(n.listeners=!0),k(this,P,tn).call(this,{...n,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&k(this,P,jr).call(this)}},H=new WeakMap,j=new WeakMap,Et=new WeakMap,B=new WeakMap,Ie=new WeakMap,ot=new WeakMap,Se=new WeakMap,ae=new WeakMap,Ct=new WeakMap,ct=new WeakMap,lt=new WeakMap,Le=new WeakMap,De=new WeakMap,Te=new WeakMap,ut=new WeakMap,P=new WeakSet,wt=function(e){k(this,P,Pr).call(this);let t=d(this,j).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(J)),t},vr=function(){k(this,P,Sr).call(this);const e=Ve(this.options.staleTime,d(this,j));if(Ue||d(this,B).isStale||!gr(e))return;const s=Gs(d(this,B).dataUpdatedAt,e)+1;b(this,Le,setTimeout(()=>{d(this,B).isStale||this.updateResult()},s))},xr=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(d(this,j)):this.options.refetchInterval)??!1},kr=function(e){k(this,P,Tr).call(this),b(this,Te,e),!(Ue||ee(this.options.enabled,d(this,j))===!1||!gr(d(this,Te))||d(this,Te)===0)&&b(this,De,setInterval(()=>{(this.options.refetchIntervalInBackground||Fr.isFocused())&&k(this,P,wt).call(this)},d(this,Te)))},jr=function(){k(this,P,vr).call(this),k(this,P,kr).call(this,k(this,P,xr).call(this))},Sr=function(){d(this,Le)&&(clearTimeout(d(this,Le)),b(this,Le,void 0))},Tr=function(){d(this,De)&&(clearInterval(d(this,De)),b(this,De,void 0))},Pr=function(){const e=d(this,H).getQueryCache().build(d(this,H),this.options);if(e===d(this,j))return;const t=d(this,j);b(this,j,e),b(this,Et,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},tn=function(e){D.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(d(this,B))}),d(this,H).getQueryCache().notify({query:d(this,j),type:"observerResultsUpdated"})})},Is);function Hi(r,e){return ee(e.enabled,r)!==!1&&r.state.data===void 0&&!(r.state.status==="error"&&e.retryOnMount===!1)}function as(r,e){return Hi(r,e)||r.state.data!==void 0&&Or(r,e,e.refetchOnMount)}function Or(r,e,t){if(ee(e.enabled,r)!==!1){const s=typeof t=="function"?t(r):t;return s==="always"||s!==!1&&Br(r,e)}return!1}function os(r,e,t,s){return(r!==e||ee(s.enabled,r)===!1)&&(!t.suspense||r.state.status!=="error")&&Br(r,t)}function Br(r,e){return ee(e.enabled,r)!==!1&&r.isStaleByTime(Ve(e.staleTime,r))}function zi(r,e){return!yr(r.getCurrentResult(),e)}var rn=R.createContext(void 0),Ki=r=>{const e=R.useContext(rn);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Qi=({client:r,children:e})=>(R.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),h.jsx(rn.Provider,{value:r,children:e})),sn=R.createContext(!1),Gi=()=>R.useContext(sn);sn.Provider;function Ji(){let r=!1;return{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r}}var Wi=R.createContext(Ji()),Vi=()=>R.useContext(Wi);function Yi(r,e){return typeof r=="function"?r(...e):!!r}function cs(){}var Xi=(r,e)=>{(r.suspense||r.throwOnError||r.experimental_prefetchInRender)&&(e.isReset()||(r.retryOnMount=!1))},Zi=r=>{R.useEffect(()=>{r.clearReset()},[r])},ea=({result:r,errorResetBoundary:e,throwOnError:t,query:s})=>r.isError&&!e.isReset()&&!r.isFetching&&s&&Yi(t,[r.error,s]),ta=r=>{const e=r.staleTime;r.suspense&&(r.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof r.gcTime=="number"&&(r.gcTime=Math.max(r.gcTime,1e3)))},ra=(r,e)=>r.isLoading&&r.isFetching&&!e,sa=(r,e)=>(r==null?void 0:r.suspense)&&e.isPending,ls=(r,e,t)=>e.fetchOptimistic(r).catch(()=>{t.clearReset()});function na(r,e,t){var l,f,p,m,_;const s=Ki(),n=Gi(),i=Vi(),a=s.defaultQueryOptions(r);(f=(l=s.getDefaultOptions().queries)==null?void 0:l._experimental_beforeQuery)==null||f.call(l,a),a._optimisticResults=n?"isRestoring":"optimistic",ta(a),Xi(a,i),Zi(i);const o=!s.getQueryCache().get(a.queryHash),[c]=R.useState(()=>new e(s,a)),u=c.getOptimisticResult(a);if(R.useSyncExternalStore(R.useCallback(g=>{const y=n?cs:c.subscribe(D.batchCalls(g));return c.updateResult(),y},[c,n]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),R.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),sa(a,u))throw ls(a,c,i);if(ea({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash)}))throw u.error;if((m=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||m.call(p,a,u),a.experimental_prefetchInRender&&!Ue&&ra(u,n)){const g=o?ls(a,c,i):(_=s.getQueryCache().get(a.queryHash))==null?void 0:_.promise;g==null||g.catch(cs).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function ia(r,e){return na(r,qi)}function aa(){const[r,e]=R.useState(()=>localStorage.getItem("language")||"en");return R.useEffect(()=>{localStorage.setItem("language",r),document.documentElement.lang=r},[r]),{language:r,toggleLanguage:()=>e(s=>s==="en"?"zh":"en")}}const nn=R.createContext(void 0);function oa({children:r}){const e=aa();return h.jsx(nn.Provider,{value:e,children:r})}function an(){const r=R.useContext(nn);if(!r)throw new Error("useLanguageContext must be used within a LanguageProvider");return r}function ca(){const[r,e]=R.useState(()=>localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));return R.useEffect(()=>{localStorage.setItem("theme",r),document.documentElement.classList.toggle("dark",r==="dark")},[r]),{theme:r,toggleTheme:()=>e(s=>s==="light"?"dark":"light")}}function la(){const{theme:r,toggleTheme:e}=ca();return h.jsx(pe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800","aria-label":`Switch to ${r==="light"?"dark":"light"} theme`,children:r==="light"?h.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):h.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707"})})})}function ua(){const{language:r,toggleLanguage:e}=an();return h.jsx(pe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800","aria-label":`Switch to ${r==="en"?"Chinese":"English"}`,children:h.jsx("span",{className:"text-sm font-medium",children:r==="en"?"":"EN"})})}const ha={en:{nav:{byProcessor:"By Processor",macbookPro:"MacBook Pro",macbookAir:"MacBook Air",macMini:"Mac mini & Studio",iMac:"Mac Pro & iMac",about:"About"},common:{loading:"Loading...",error:"An error occurred",basedOn:"Based on Geekbench 6 Scores",performanceComparison:"Performance Comparison",noData:"No data available"},titles:{processors:"Mac Processor Performance Rankings",macbookPro:"MacBook Pro Performance Rankings",macbookAir:"MacBook Air Performance Rankings",macMini:"Mac mini & Studio Performance Rankings",iMac:"Mac Pro & iMac Performance Rankings"},charts:{singleCore:"Single-Core Performance (Geekbench 6)",multiCore:"Multi-Core Performance (Geekbench 6)"},about:{title:"About Us",intro:{title:"Website Introduction",content:"Mac Processor Performance Rankings was established in 2024, dedicated to providing the most up-to-date and comprehensive Apple Silicon processor performance comparisons. From M1 to the latest M4 series, we continuously track and update performance data to help users make informed purchasing decisions."},features:{title:"Key Features",processorRankings:{title:"Comprehensive Processor Rankings",items:["Complete M1/M2/M3/M4 series processor comparison","All core configuration versions included","Comparison with Intel processors"]},productComparison:{title:"Product Series Comparison",items:["MacBook Pro full series rankings","MacBook Air performance comparison","Mac mini and Mac Studio comparison","iMac and Mac Pro performance data"]}},data:{title:"Data Information",intro:"All performance data is based on Geekbench 6 scores, one of the most authoritative cross-platform performance testing tools. Why we choose Geekbench 6:",testMethod:{title:"Testing Method",items:["Scientific testing methodology","Stable and reliable results","Regular test updates"]},testCoverage:{title:"Test Coverage",items:["Single-core performance testing","Multi-core performance testing","Real-world performance simulation"]}},updates:{title:"Updates & Maintenance",dataUpdates:{title:"Data Updates",items:["Updates within 24 hours of new releases","Weekly data accuracy checks"]},siteOptimization:{title:"Website Optimization",items:["Continuous UX improvements","Regular feature updates"]}},contact:{title:"Contact & Feedback",content:"We value feedback and suggestions from every user. If you have any questions, suggestions, or find any data errors, please contact us at:"}}},zh:{nav:{byProcessor:"",macbookPro:"MacBook Pro",macbookAir:"MacBook Air",macMini:"Mac mini & Studio",iMac:"Mac Pro & iMac",about:""},common:{loading:"...",error:"",basedOn:" Geekbench 6 ",performanceComparison:"",noData:""},titles:{processors:"Mac ",macbookPro:"MacBook Pro ",macbookAir:"MacBook Air ",macMini:"Mac mini & Studio ",iMac:"Mac Pro & iMac "},charts:{singleCore:" (Geekbench 6)",multiCore:" (Geekbench 6)"},about:{title:"",intro:{title:"",content:"Mac  2024  Apple Silicon  M1  M4 "},features:{title:"",processorRankings:{title:"",items:["M1/M2/M3/M4 ",""," Intel "]},productComparison:{title:"",items:["MacBook Pro ","MacBook Air ","Mac mini  Mac Studio ","iMac  Mac Pro "]}},data:{title:"",intro:" Geekbench 6  Geekbench 6 ",testMethod:{title:"",items:["","",""]},testCoverage:{title:"",items:["","",""]}},updates:{title:"",dataUpdates:{title:"",items:[" 24 ",""]},siteOptimization:{title:"",items:["",""]}},contact:{title:"",content:""}}}};function oe(){const{language:r}=an();return{t:(t,s)=>{const n=t.split(".");let i=ha[r];for(const a of n)if(i=i==null?void 0:i[a],!i)return t;return s!=null&&s.returnObjects?i:String(i)},language:r}}function da({to:r,children:e,isActive:t}){return h.jsx(he,{to:r,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${t?"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800"}`,children:e})}function fa({to:r,children:e,isActive:t,onClick:s}){return h.jsx(he,{to:r,onClick:s,className:`block px-3 py-2 rounded-md text-base font-medium transition-colors ${t?"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800"}`,children:e})}function pa(){const[r,e]=R.useState(!1),t=$n(),{t:s}=oe(),n=[{to:"/",label:s("nav.byProcessor")},{to:"/macbook-pro",label:s("nav.macbookPro")},{to:"/macbook-air",label:s("nav.macbookAir")},{to:"/mac-mini",label:s("nav.macMini")},{to:"/imac",label:s("nav.iMac")}];return h.jsxs("nav",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 fixed w-full z-50 shadow-sm",children:[h.jsx("div",{className:"max-w-7xl mx-auto px-4",children:h.jsxs("div",{className:"h-16 flex justify-between",children:[h.jsx("div",{className:"hidden md:flex items-center space-x-4",children:n.map(i=>h.jsx(da,{to:i.to,isActive:t.pathname===i.to,children:i.label},i.to))}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(he,{to:"/about",className:`p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 ${t.pathname==="/about"?"bg-gray-100 dark:bg-gray-800":""}`,children:s("nav.about")}),h.jsx(la,{}),h.jsx(ua,{}),h.jsx("div",{className:"md:hidden",children:h.jsxs("button",{onClick:()=>e(!r),className:"text-gray-700 dark:text-gray-300 p-2",children:[h.jsx("span",{className:"sr-only",children:"Open menu"}),r?h.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):h.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})})]})]})}),r&&h.jsx(pe.div,{className:"md:hidden",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:h.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:[...n,{to:"/about",label:s("nav.about")}].map(i=>h.jsx(fa,{to:i.to,isActive:t.pathname===i.to,onClick:()=>e(!1),children:i.label},i.to))})})]})}function ma(){const{t:r,language:e}=oe(),t=new Date().getFullYear();return h.jsx("footer",{className:"bg-white dark:bg-gray-900 text-gray-600 dark:text-gray-300 py-12 border-t border-gray-200 dark:border-gray-800",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:e==="en"?"Mac Processor Rankings":"Mac "}),h.jsx("p",{className:"text-sm",children:e==="en"?"Providing comprehensive performance comparisons of Apple Silicon M1/M2/M3/M4 series processors.":" Apple Silicon M1/M2/M3/M4 "})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:e==="en"?"Quick Links":""}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{children:h.jsx(he,{to:"/",className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:String(r("nav.byProcessor"))})}),h.jsx("li",{children:h.jsx(he,{to:"/macbook-pro",className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:String(r("nav.macbookPro"))})}),h.jsx("li",{children:h.jsx(he,{to:"/macbook-air",className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:String(r("nav.macbookAir"))})}),h.jsx("li",{children:h.jsx(he,{to:"/mac-mini",className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:String(r("nav.macMini"))})}),h.jsx("li",{children:h.jsx(he,{to:"/imac",className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:String(r("nav.iMac"))})})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:e==="en"?"About Us":""}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{children:h.jsx(he,{to:"/about",className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:String(r("nav.about"))})}),h.jsx("li",{children:h.jsx("a",{href:"mailto:Domen.Reed@gmail.com",className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:e==="en"?"Contact Us":""})})]})]})]}),h.jsx("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-8",children:h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-sm",children:[h.jsxs("p",{children:[" ",t," ",e==="en"?"Mac Processor Performance Rankings":"Mac "]}),h.jsxs("p",{className:"mt-2 md:mt-0",children:[e==="en"?"Based on ":" ",h.jsx("a",{href:"https://www.geekbench.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:"Geekbench"}),e==="en"?" benchmark data":" "]})]})})]})})}function us({title:r,children:e,delay:t=0}){return h.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:t},className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 transition-colors",children:[h.jsx("h3",{className:"text-xl font-semibold mb-4 text-center text-gray-800 dark:text-gray-200",children:r.split("(").map((s,n)=>n===0?s:h.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",s]},n))}),h.jsx("div",{className:"min-h-[540px]",style:{height:"calc(24px * var(--data-count, 10) + 100px)"},children:e})]})}function ga({active:r,payload:e,label:t,showProcessor:s=!1}){if(r&&e&&e.length){const n=e[0].payload;return h.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 p-2 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 text-sm backdrop-blur-sm",children:s?h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:n.processor}),h.jsxs("p",{className:"text-blue-600 dark:text-blue-400",children:[e[0].value.toLocaleString()," points (",n.year,")"]})]}):h.jsxs("p",{className:"text-blue-600 dark:text-blue-400",children:[e[0].value.toLocaleString()," points (",n.year,")"]})})}return null}function hs({data:r,dataKey:e,color:t,name:s,showProcessor:n=!1}){if(!r||r.length===0)return h.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-gray-400",children:"No data available"});const i=r.find(l=>l.processor==="M3"),a=i?i[e]:Math.max(...r.map(l=>l[e])),o=r.map(l=>({...l,percentage:Math.round(l[e]/a*100)})),c=Math.max(...r.map(l=>l[e])),u=Math.ceil(c*1.1);return document.documentElement.style.setProperty("--data-count",r.length.toString()),h.jsxs("div",{className:"w-full h-full",children:[h.jsx("style",{children:`
          .performance-bar {
            transition: all 0.3s ease;
          }
          .performance-bar:hover {
            transform: scaleX(1.02);
            filter: brightness(1.1);
          }
        `}),h.jsx(Un,{width:"100%",height:"100%",children:h.jsxs(Nn,{data:o,layout:"vertical",margin:{top:10,right:30,left:1,bottom:10},children:[h.jsx(Fn,{strokeDasharray:"3 3",horizontal:!1}),h.jsx(Bn,{type:"number",domain:[0,u],tickFormatter:l=>l.toLocaleString(),tick:{fontSize:11,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fill:"#6B7280"}}),h.jsx(qn,{type:"category",dataKey:"name",width:150,tick:{fontSize:12,fill:"#374151",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},axisLine:!1,tickLine:!1}),h.jsx(Hn,{content:h.jsx(ga,{showProcessor:n})}),h.jsx(zn,{dataKey:e,fill:t,name:s,radius:[0,4,4,0],barSize:24,animationDuration:1e3,animationBegin:200,className:"performance-bar",children:h.jsx(Kn,{dataKey:"percentage",position:"right",formatter:l=>`${l}%`,style:{fontSize:"11px",fill:"#6B7280",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'}})})]})})]})}function Rt({products:r,showProcessor:e=!0}){const{t}=oe();if(!r||r.length===0)return h.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:String(t("common.noData"))});const s=R.useMemo(()=>[...r].sort((i,a)=>a.single_core-i.single_core),[r]),n=R.useMemo(()=>[...r].sort((i,a)=>a.multi_core-i.multi_core),[r]);return h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[h.jsx(us,{title:String(t("charts.singleCore")),children:h.jsx(hs,{data:s,dataKey:"single_core",color:"#007AFF",name:String(t("charts.singleCore")),showProcessor:e})}),h.jsx(us,{title:String(t("charts.multiCore")),delay:.2,children:h.jsx(hs,{data:n,dataKey:"multi_core",color:"#5856D6",name:String(t("charts.multiCore")),showProcessor:e})})]})}const ya="modulepreload",ba=function(r){return"/"+r},ds={},ht=function(e,t,s){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.allSettled(t.map(c=>{if(c=ba(c),c in ds)return;ds[c]=!0;const u=c.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":ya,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return n.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},_a=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>ht(async()=>{const{default:s}=await Promise.resolve().then(()=>pt);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class qr extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class wa extends qr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class va extends qr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xa extends qr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Er;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Er||(Er={}));var ka=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(l){try{u(s.next(l))}catch(f){a(f)}}function c(l){try{u(s.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):n(l.value).then(o,c)}u((s=s.apply(r,e||[])).next())})};class ja{constructor(e,{headers:t={},customFetch:s,region:n=Er.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=_a(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return ka(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:a}=t;let o={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;a&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(o["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)));const l=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),n),body:u}).catch(_=>{throw new wa(_)}),f=l.headers.get("x-relay-error");if(f&&f==="true")throw new va(l);if(!l.ok)throw new xa(l);let p=((s=l.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield l.json():p==="application/octet-stream"?m=yield l.blob():p==="text/event-stream"?m=l:p==="multipart/form-data"?m=yield l.formData():m=yield l.text(),{data:m,error:null}}catch(n){return{data:null,error:n}}})}}var z={},Hr={},Wt={},Mt={},Vt={},Yt={},Sa=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},dt=Sa();const Ta=dt.fetch,on=dt.fetch.bind(dt),cn=dt.Headers,Pa=dt.Request,Oa=dt.Response,pt=Object.freeze(Object.defineProperty({__proto__:null,Headers:cn,Request:Pa,Response:Oa,default:on,fetch:Ta},Symbol.toStringTag,{value:"Module"})),Ea=In(pt);var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});let Ca=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Xt.default=Ca;var ln=W&&W.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yt,"__esModule",{value:!0});const Aa=ln(Ea),Ra=ln(Xt);let Ma=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Aa.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,c;let u=null,l=null,f=null,p=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?l=x:l=JSON.parse(x))}const g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(l)&&(l.length>1?(u={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,f=null,p=406,m="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{const g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(l=[],u=null,p=200,m="OK")}catch{i.status===404&&g===""?(p=204,m="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,m="OK"),u&&this.shouldThrowOnError)throw new Ra.default(u)}return{error:u,data:l,count:f,status:p,statusText:m}});return this.shouldThrowOnError||(n=n.catch(i=>{var a,o,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}};Yt.default=Ma;var $a=W&&W.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vt,"__esModule",{value:!0});const Ia=$a(Yt);let La=class extends Ia.default{select(e){let t=!1;const s=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var o;const c=[e?"analyze":null,t?"verbose":null,s?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Vt.default=La;var Da=W&&W.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mt,"__esModule",{value:!0});const Ua=Da(Vt);let Na=class extends Ua.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}};Mt.default=Na;var Fa=W&&W.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wt,"__esModule",{value:!0});const bt=Fa(Mt);let Ba=class{constructor(e,{headers:t={},schema:s,fetch:n}){this.url=e,this.headers=t,this.schema=s,this.fetch=n}select(e,{head:t=!1,count:s}={}){const n=t?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),s&&(this.headers.Prefer=`count=${s}`),new bt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:s=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new bt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:n,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${s?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const c=e.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){const u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new bt.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const s="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new bt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new bt.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Wt.default=Ba;var Zt={},er={};Object.defineProperty(er,"__esModule",{value:!0});er.version=void 0;er.version="0.0.0-automated";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.DEFAULT_HEADERS=void 0;const qa=er;Zt.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${qa.version}`};var un=W&&W.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hr,"__esModule",{value:!0});const Ha=un(Wt),za=un(Mt),Ka=Zt;let Qa=class hn{constructor(e,{headers:t={},schema:s,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},Ka.DEFAULT_HEADERS),t),this.schemaName=s,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new Ha.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new hn(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:n=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let c;s||n?(a=s?"HEAD":"GET",Object.entries(t).filter(([l,f])=>f!==void 0).map(([l,f])=>[l,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([l,f])=>{o.searchParams.append(l,f)})):(a="POST",c=t);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new za.default({method:a,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Hr.default=Qa;var mt=W&&W.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(z,"__esModule",{value:!0});z.PostgrestError=z.PostgrestBuilder=z.PostgrestTransformBuilder=z.PostgrestFilterBuilder=z.PostgrestQueryBuilder=z.PostgrestClient=void 0;const dn=mt(Hr);z.PostgrestClient=dn.default;const fn=mt(Wt);z.PostgrestQueryBuilder=fn.default;const pn=mt(Mt);z.PostgrestFilterBuilder=pn.default;const mn=mt(Vt);z.PostgrestTransformBuilder=mn.default;const gn=mt(Yt);z.PostgrestBuilder=gn.default;const yn=mt(Xt);z.PostgrestError=yn.default;var Ga=z.default={PostgrestClient:dn.default,PostgrestQueryBuilder:fn.default,PostgrestFilterBuilder:pn.default,PostgrestTransformBuilder:mn.default,PostgrestBuilder:gn.default,PostgrestError:yn.default};const{PostgrestClient:Ja,PostgrestQueryBuilder:Gc,PostgrestFilterBuilder:Jc,PostgrestTransformBuilder:Wc,PostgrestBuilder:Vc,PostgrestError:Yc}=Ga,Wa="2.11.2",Va={"X-Client-Info":`realtime-js/${Wa}`},Ya="1.0.0",bn=1e4,Xa=1e3;var Ye;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Ye||(Ye={}));var K;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(K||(K={}));var Z;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Z||(Z={}));var Cr;(function(r){r.websocket="websocket"})(Cr||(Cr={}));var Ee;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Ee||(Ee={}));class Za{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const n=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const o=s.decode(e.slice(a,a+n));a=a+n;const c=s.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(s.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class _n{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var C;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(C||(C={}));const fs=(r,e,t={})=>{var s;const n=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,a)=>(i[a]=eo(a,r,e,n),i),{})},eo=(r,e,t,s)=>{const n=e.find(o=>o.name===r),i=n==null?void 0:n.type,a=t[r];return i&&!s.includes(i)?wn(i,a):Ar(a)},wn=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return no(e,t)}switch(r){case C.bool:return to(e);case C.float4:case C.float8:case C.int2:case C.int4:case C.int8:case C.numeric:case C.oid:return ro(e);case C.json:case C.jsonb:return so(e);case C.timestamp:return io(e);case C.abstime:case C.date:case C.daterange:case C.int4range:case C.int8range:case C.money:case C.reltime:case C.text:case C.time:case C.timestamptz:case C.timetz:case C.tsrange:case C.tstzrange:return Ar(e);default:return Ar(e)}},Ar=r=>r,to=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},ro=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},so=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},no=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,s=r[t];if(r[0]==="{"&&s==="}"){let i;const a=r.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>wn(e,o))}return r},io=r=>typeof r=="string"?r.replace(" ","T"):r,vn=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class cr{constructor(e,t,s={},n=bn){this.channel=e,this.event=t,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ps;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(ps||(ps={}));class xt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xt.syncState(this.state,n,i,a),this.pendingDiffs.forEach(c=>{this.state=xt.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=xt.syncDiff(this.state,n,i,a),o())}),this.onJoin((n,i,a)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:a})}),this.onLeave((n,i,a)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,n){const i=this.cloneDeep(e),a=this.transformState(t),o={},c={};return this.map(i,(u,l)=>{a[u]||(c[u]=l)}),this.map(a,(u,l)=>{const f=i[u];if(f){const p=l.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),_=l.filter(y=>m.indexOf(y.presence_ref)<0),g=f.filter(y=>p.indexOf(y.presence_ref)<0);_.length>0&&(o[u]=_),g.length>0&&(c[u]=g)}else o[u]=l}),this.syncDiff(i,{joins:o,leaves:c},s,n)}static syncDiff(e,t,s,n){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(o,c)=>{var u;const l=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),l.length>0){const f=e[o].map(m=>m.presence_ref),p=l.filter(m=>f.indexOf(m.presence_ref)<0);e[o].unshift(...p)}s(o,l,c)}),this.map(a,(o,c)=>{let u=e[o];if(!u)return;const l=c.map(f=>f.presence_ref);u=u.filter(f=>l.indexOf(f.presence_ref)<0),e[o]=u,n(o,u,c),u.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const n=e[s];return"metas"in n?t[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[s]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ms;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(ms||(ms={}));var gs;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(gs||(gs={}));var ue;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ue||(ue={}));class zr{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=K.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new cr(this,Z.join,this.params,this.timeout),this.rejoinTimer=new _n(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=K.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=K.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=K.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=K.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Z.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new xt(this),this.broadcastEndpointURL=vn(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(l=>e==null?void 0:e(ue.CHANNEL_ERROR,l)),this._onClose(()=>e==null?void 0:e(ue.CLOSED));const c={},u={broadcast:i,presence:a,postgres_changes:(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(l=>l.filter))!==null&&n!==void 0?n:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:l})=>{var f;if(this.socket.setAuth(),l===void 0){e==null||e(ue.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,_=[];for(let g=0;g<m;g++){const y=p[g],{filter:{event:x,schema:E,table:T,filter:O}}=y,A=l&&l[g];if(A&&A.event===x&&A.schema===E&&A.table===T&&A.filter===O)_.push(Object.assign(Object.assign({},y),{id:A.id}));else{this.unsubscribe(),e==null||e(ue.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(ue.SUBSCRIBED);return}}).receive("error",l=>{e==null||e(ue.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ue.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this._on(e,t,s)}async send(e,t={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;const u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=K.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Z.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const n=new cr(this,Z.leave,{},e);n.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,t,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),a}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new cr(this,e,t,s);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var n,i;const a=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:l}=Z;if(s&&[o,c,u,l].indexOf(a)>=0&&s!==this._joinRef())return;let p=this._onMessage(a,t,s);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(m=>{var _,g,y;return((_=m.filter)===null||_===void 0?void 0:_.event)==="*"||((y=(g=m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(m=>m.callback(p,s)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var _,g,y,x,E,T;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const O=m.id,A=(_=m.filter)===null||_===void 0?void 0:_.event;return O&&((g=t.ids)===null||g===void 0?void 0:g.includes(O))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((y=t.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const O=(E=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return O==="*"||O===((T=t==null?void 0:t.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof p=="object"&&"ids"in p){const _=p.data,{schema:g,table:y,commit_timestamp:x,type:E,errors:T}=_;p=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:x,eventType:E,new:{},old:{},errors:T}),this._getPayloadRecords(_))}m.callback(p,s)})}_isClosed(){return this.state===K.closed}_isJoined(){return this.state===K.joined}_isJoining(){return this.state===K.joining}_isLeaving(){return this.state===K.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&zr.isEqual(n.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Z.close,{},e)}_onError(e){this._on(Z.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=K.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=fs(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=fs(e.columns,e.old_record)),t}}const ao=()=>{},oo=typeof WebSocket<"u",co=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lo{constructor(e,t){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Va,this.params={},this.timeout=bn,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ao,this.conn=null,this.sendBuffer=[],this.serializer=new Za,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>ht(async()=>{const{default:c}=await Promise.resolve().then(()=>pt);return{default:c}},void 0).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${Cr.websocket}`,this.httpEndpoint=vn(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const n=(s=t==null?void 0:t.params)===null||s===void 0?void 0:s.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,a)=>a(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new _n(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(oo){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new uo(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ht(async()=>{const{default:e}=await import("./browser-Cmfattq4.js").then(t=>t.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ya}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ye.connecting:return Ee.Connecting;case Ye.open:return Ee.Open;case Ye.closing:return Ee.Closing;default:return Ee.Closed}}isConnected(){return this.connectionState()===Ee.Open}channel(e,t={config:{}}){const s=new zr(`realtime:${e}`,t,this);return this.channels.push(s),s}push(e){const{topic:t,event:s,payload:n,ref:i}=e,a=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${t} ${s} (${i})`,n),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let s=null;try{s=JSON.parse(atob(t.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(Z.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Xa,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:s,event:n,payload:i,ref:a}=t;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${n} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(s)).forEach(o=>o._trigger(n,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Z.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${s}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([co],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}}class uo{constructor(e,t,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ye.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class Kr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function L(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class ho extends Kr{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Rr extends Kr{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var fo=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(l){try{u(s.next(l))}catch(f){a(f)}}function c(l){try{u(s.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):n(l.value).then(o,c)}u((s=s.apply(r,e||[])).next())})};const xn=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>ht(async()=>{const{default:s}=await Promise.resolve().then(()=>pt);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},po=()=>fo(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ht(()=>Promise.resolve().then(()=>pt),void 0)).Response:Response}),Mr=r=>{if(Array.isArray(r))return r.map(t=>Mr(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,s])=>{const n=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Mr(s)}),e};var Ne=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(l){try{u(s.next(l))}catch(f){a(f)}}function c(l){try{u(s.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):n(l.value).then(o,c)}u((s=s.apply(r,e||[])).next())})};const lr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),mo=(r,e,t)=>Ne(void 0,void 0,void 0,function*(){const s=yield po();r instanceof s&&!(t!=null&&t.noResolveJson)?r.json().then(n=>{e(new ho(lr(n),r.status||500))}).catch(n=>{e(new Rr(lr(n),n))}):e(new Rr(lr(r),r))}),go=(r,e,t,s)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(n.body=JSON.stringify(s)),Object.assign(Object.assign({},n),t))};function $t(r,e,t,s,n,i){return Ne(this,void 0,void 0,function*(){return new Promise((a,o)=>{r(t,go(e,s,n,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>mo(c,o,s))})})}function Gt(r,e,t,s){return Ne(this,void 0,void 0,function*(){return $t(r,"GET",e,t,s)})}function be(r,e,t,s,n){return Ne(this,void 0,void 0,function*(){return $t(r,"POST",e,s,n,t)})}function yo(r,e,t,s,n){return Ne(this,void 0,void 0,function*(){return $t(r,"PUT",e,s,n,t)})}function bo(r,e,t,s){return Ne(this,void 0,void 0,function*(){return $t(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function kn(r,e,t,s,n){return Ne(this,void 0,void 0,function*(){return $t(r,"DELETE",e,s,n,t)})}var q=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(l){try{u(s.next(l))}catch(f){a(f)}}function c(l){try{u(s.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):n(l.value).then(o,c)}u((s=s.apply(r,e||[])).next())})};const _o={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ys={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wo{constructor(e,t={},s,n){this.url=e,this.headers=t,this.bucketId=s,this.fetch=xn(n)}uploadOrUpdate(e,t,s,n){return q(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},ys),n);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(o=Object.assign(Object.assign({},o),n.headers));const u=this._removeEmptyFolders(t),l=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),p=yield f.json();return f.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(L(i))return{data:null,error:i};throw i}})}upload(e,t,s){return q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,n){return q(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let c;const u=Object.assign({upsert:ys.upsert},n),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:l}),p=yield f.json();return f.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(L(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return q(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const i=yield be(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Kr("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}})}update(e,t,s){return q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return q(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}copy(e,t,s){return q(this,void 0,void 0,function*(){try{return{data:{path:(yield be(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,s){return q(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield be(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,s){return q(this,void 0,void 0,function*(){try{const n=yield be(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}download(e,t){return q(this,void 0,void 0,function*(){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Gt(this.fetch,`${this.url}/${n}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(L(o))return{data:null,error:o};throw o}})}info(e){return q(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield Gt(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Mr(s),error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}})}exists(e){return q(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield bo(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(L(s)&&s instanceof Rr){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${s}${u}`)}}}remove(e){return q(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(L(t))return{data:null,error:t};throw t}})}list(e,t,s){return q(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},_o),t),{prefix:e||""});return{data:yield be(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const vo="2.7.1",xo={"X-Client-Info":`storage-js/${vo}`};var Ke=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(l){try{u(s.next(l))}catch(f){a(f)}}function c(l){try{u(s.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):n(l.value).then(o,c)}u((s=s.apply(r,e||[])).next())})};class ko{constructor(e,t={},s){this.url=e,this.headers=Object.assign(Object.assign({},xo),t),this.fetch=xn(s)}listBuckets(){return Ke(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(L(e))return{data:null,error:e};throw e}})}getBucket(e){return Ke(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(L(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Ke(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return Ke(this,void 0,void 0,function*(){try{return{data:yield yo(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Ke(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(L(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ke(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(L(t))return{data:null,error:t};throw t}})}}class jo extends ko{constructor(e,t={},s){super(e,t,s)}from(e){return new wo(this.url,this.headers,e,this.fetch)}}const So="2.47.11";let vt="";typeof Deno<"u"?vt="deno":typeof document<"u"?vt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vt="react-native":vt="node";const To={"X-Client-Info":`supabase-js-${vt}/${So}`},Po={headers:To},Oo={schema:"public"},Eo={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Co={};var Ao=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(l){try{u(s.next(l))}catch(f){a(f)}}function c(l){try{u(s.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):n(l.value).then(o,c)}u((s=s.apply(r,e||[])).next())})};const Ro=r=>{let e;return r?e=r:typeof fetch>"u"?e=on:e=fetch,(...t)=>e(...t)},Mo=()=>typeof Headers>"u"?cn:Headers,$o=(r,e,t)=>{const s=Ro(t),n=Mo();return(i,a)=>Ao(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:r;let u=new n(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",r),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},a),{headers:u}))})};var Io=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(l){try{u(s.next(l))}catch(f){a(f)}}function c(l){try{u(s.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):n(l.value).then(o,c)}u((s=s.apply(r,e||[])).next())})};function Lo(r){return r.replace(/\/$/,"")}function Do(r,e){const{db:t,auth:s,realtime:n,global:i}=r,{db:a,auth:o,realtime:c,global:u}=e,l={db:Object.assign(Object.assign({},a),t),auth:Object.assign(Object.assign({},o),s),realtime:Object.assign(Object.assign({},c),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>Io(this,void 0,void 0,function*(){return""})};return r.accessToken?l.accessToken=r.accessToken:delete l.accessToken,l}const jn="2.67.3",Uo="http://localhost:9999",No="supabase.auth.token",Fo={"X-Client-Info":`gotrue-js/${jn}`},bs=10,$r="X-Supabase-Api-Version",Sn={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Bo(r){return Math.round(Date.now()/1e3)+r}function qo(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const re=()=>typeof window<"u"&&typeof document<"u",Pe={tested:!1,writable:!1},kt=()=>{if(!re())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pe.tested)return Pe.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Pe.tested=!0,Pe.writable=!0}catch{Pe.tested=!0,Pe.writable=!1}return Pe.writable};function Ho(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return t.searchParams.forEach((s,n)=>{e[n]=s}),e}const Tn=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>ht(async()=>{const{default:s}=await Promise.resolve().then(()=>pt);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},zo=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Pn=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Ft=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Bt=async(r,e)=>{await r.removeItem(e)};function Ko(r){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",s,n,i,a,o,c,u,l=0;for(r=r.replace("-","+").replace("_","/");l<r.length;)a=e.indexOf(r.charAt(l++)),o=e.indexOf(r.charAt(l++)),c=e.indexOf(r.charAt(l++)),u=e.indexOf(r.charAt(l++)),s=a<<2|o>>4,n=(o&15)<<4|c>>2,i=(c&3)<<6|u,t=t+String.fromCharCode(s),c!=64&&n!=0&&(t=t+String.fromCharCode(n)),u!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}class tr{constructor(){this.promise=new tr.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}tr.promiseConstructor=Promise;function _s(r){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=r.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=t[1];return JSON.parse(Ko(s))}async function Qo(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Go(r,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await r(i);if(!e(i,null,a)){s(a);return}}catch(a){if(!e(i,a)){n(a);return}}})()})}function Jo(r){return("0"+r.toString(16)).substr(-2)}function Wo(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let n="";for(let i=0;i<56;i++)n+=t.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,Jo).join("")}async function Vo(r){const t=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function Yo(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xo(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await Vo(r);return Yo(t)}async function Qe(r,e,t=!1){const s=Wo();let n=s;t&&(n+="/PASSWORD_RECOVERY"),await Pn(r,`${e}-code-verifier`,n);const i=await Xo(s);return[i,s===i?"plain":"s256"]}const Zo=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ec(r){const e=r.headers.get($r);if(!e||!e.match(Zo))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Qr extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function v(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class tc extends Qr{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function rc(r){return v(r)&&r.name==="AuthApiError"}class On extends Qr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Fe extends Qr{constructor(e,t,s,n){super(e,s,n),this.name=t,this.status=s}}class ge extends Fe{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sc(r){return v(r)&&r.name==="AuthSessionMissingError"}class ur extends Fe{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qt extends Fe{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ht extends Fe{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nc(r){return v(r)&&r.name==="AuthImplicitGrantRedirectError"}class ws extends Fe{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ir extends Fe{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function hr(r){return v(r)&&r.name==="AuthRetryableFetchError"}class vs extends Fe{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}var ic=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};const Oe=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ac=[502,503,504];async function xs(r){var e;if(!zo(r))throw new Ir(Oe(r),0);if(ac.includes(r.status))throw new Ir(Oe(r),r.status);let t;try{t=await r.json()}catch(i){throw new On(Oe(i),i)}let s;const n=ec(r);if(n&&n.getTime()>=Sn["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new vs(Oe(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new ge}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new vs(Oe(t),r.status,t.weak_password.reasons);throw new tc(Oe(t),r.status||500,s)}const oc=(r,e,t,s)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),t))};async function S(r,e,t,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[$r]||(i[$r]=Sn["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const a=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(a.redirect_to=s.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await cc(r,e,t+o,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function cc(r,e,t,s,n,i){const a=oc(e,s,n,i);let o;try{o=await r(t,Object.assign({},a))}catch(c){throw console.error(c),new Ir(Oe(c),0)}if(o.ok||await xs(o),s!=null&&s.noResolveJson)return o;try{return await o.json()}catch(c){await xs(c)}}function ye(r){var e;let t=null;dc(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=Bo(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:s},error:null}}function ks(r){const e=ye(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function _e(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function lc(r){return{data:r,error:null}}function uc(r){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i}=r,a=ic(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function hc(r){return r}function dc(r){return r.access_token&&r.refresh_token&&r.expires_in}var fc=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};class pc{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=Tn(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await S(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(v(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await S(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:_e})}catch(s){if(v(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=fc(e,["options"]),n=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await S(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:uc,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(v(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await S(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_e})}catch(t){if(v(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,n,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},l=await S(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:hc});if(l.error)throw l.error;const f=await l.json(),p=(a=l.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(o=l.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(_=>{const g=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(_.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(v(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await S(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_e})}catch(t){if(v(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await S(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:_e})}catch(s){if(v(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){try{return await S(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:_e})}catch(s){if(v(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:t,error:s}=await S(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:s}}catch(t){if(v(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await S(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(v(t))return{data:null,error:t};throw t}}}const mc={getItem:r=>kt()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{kt()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{kt()&&globalThis.localStorage.removeItem(r)}};function js(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function gc(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ge={debug:!!(globalThis&&kt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class En extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yc extends En{}async function bc(r,e,t){Ge.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Ge.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){Ge.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,n.name);try{return await t()}finally{Ge.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,n.name)}}else{if(e===0)throw Ge.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new yc(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Ge.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}gc();const _c={url:Uo,storageKey:No,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fo,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},_t=30*1e3,Ss=3;async function Ts(r,e,t){return await t()}class Tt{constructor(e){var t,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Tt.nextInstanceID,Tt.nextInstanceID+=1,this.instanceID>0&&re()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},_c),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new pc({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Tn(n.fetch),this.lock=n.lock||Ts,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:re()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=bc:this.lock=Ts,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:kt()?this.storage=mc:(this.memoryStorage={},this.storage=js(this.memoryStorage)):(this.memoryStorage={},this.storage=js(this.memoryStorage)),re()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jn}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Ho(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),re()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(t,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),nc(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return v(t)?{error:t}:{error:new On("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,n;try{const i=await S(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:ye}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(v(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,s,n;try{let i;if("email"in e){const{email:l,password:f,options:p}=e;let m=null,_=null;this.flowType==="pkce"&&([m,_]=await Qe(this.storage,this.storageKey)),i=await S(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:l,password:f,data:(t=p==null?void 0:p.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:_},xform:ye})}else if("phone"in e){const{phone:l,password:f,options:p}=e;i=await S(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:l,password:f,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:ye})}else throw new qt("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(v(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:a,options:o}=e;t=await S(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ks})}else if("phone"in e){const{phone:i,password:a,options:o}=e;t=await S(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ks})}else throw new qt("You must provide either an email or phone number and a password");const{data:s,error:n}=t;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ur}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(t){if(v(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Ft(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(t??"").split("/");try{const{data:i,error:a}=await S(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:ye});if(await Bt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ur}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:a})}catch(i){if(v(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:s,token:n,access_token:i,nonce:a}=e,o=await S(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ye}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ur}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(t){if(v(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,n,i,a;try{if("email"in e){const{email:o,options:c}=e;let u=null,l=null;this.flowType==="pkce"&&([u,l]=await Qe(this.storage,this.storageKey));const{error:f}=await S(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:l},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:c}=e,{data:u,error:l}=await S(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:l}}throw new qt("You must provide either an email or phone number.")}catch(o){if(v(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,s;try{let n,i;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:a,error:o}=await S(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:ye});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(n){if(v(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,s,n;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Qe(this.storage,this.storageKey)),await S(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:lc})}catch(i){if(v(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new ge;const{error:n}=await S(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(v(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:a}=await S(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:a,error:o}=await S(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new qt("You must provide either an email or phone number and a type")}catch(t){if(v(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Ft(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,l)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,l))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await S(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_e}):await this._useSession(async t=>{var s,n,i;const{data:a,error:o}=t;if(o)throw o;return!(!((s=a.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ge}:await S(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:_e})})}catch(t){if(v(t))return sc(t)&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new ge;const a=n.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await Qe(this.storage,this.storageKey));const{data:u,error:l}=await S(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:_e});if(l)throw l;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(s){if(v(s))return{data:{user:null},error:s};throw s}}_decodeJWT(e){return _s(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ge;const t=Date.now()/1e3;let s=t,n=!0,i=null;const a=_s(e.access_token);if(a.exp&&(s=a.exp,n=s<=t),n){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(v(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(s=a.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new ge;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(v(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!re())throw new Ht("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ht(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new ws("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ht("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ws("No code detected.");const{data:E,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=e;if(!i||!o||!a||!u)throw new Ht("No session defined in URL");const l=Math.round(Date.now()/1e3),f=parseInt(o);let p=l+f;c&&(p=parseInt(c));const m=p-l;m*1e3<=_t&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const _=p-f;l-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,p,l):l-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,p,l);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const x={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:p,refresh_token:a,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(s){if(v(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ft(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{error:i};const a=(s=n.session)===null||s===void 0?void 0:s.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(rc(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=qo(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,n;try{const{data:{session:i},error:a}=t;if(a)throw a;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await Qe(this.storage,this.storageKey,!0));try{return await S(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(v(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(v(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:n}=await this._useSession(async i=>{var a,o,c,u,l;const{data:f,error:p}=i;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await S(this.fetch,"GET",m,{headers:this.headers,jwt:(l=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&l!==void 0?l:void 0})});if(n)throw n;return re()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(v(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:a}=t;if(a)throw a;return await S(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(t){if(v(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await Go(async n=>(n>0&&await Qo(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await S(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ye})),(n,i)=>{const a=200*Math.pow(2,n);return i&&hr(i)&&Date.now()+a-s<_t})}catch(s){if(this._debug(t,"error",s),v(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),re()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const s=await Ft(this.storage,this.storageKey);if(this._debug(t,"session from storage",s),!this._isValidSession(s)){this._debug(t,"session is not valid"),s!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((e=s.expires_at)!==null&&e!==void 0?e:1/0)<n+bs;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${bs}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),hr(a)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(t,"error",s),console.error(s);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new ge;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new tr;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new ge;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(n,"error",i),v(i)){const a={session:null,error:i};return hr(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Pn(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Bt(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&re()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_t);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/_t);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${_t}ms, refresh threshold is ${Ss} ticks`),n<=Ss&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof En)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!re()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const n=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,a]=await Qe(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});n.push(o.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;return i?{data:null,error:i}:await S(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(v(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:a}=t;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await S(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(v(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:o}=await S(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(t){if(v(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;return i?{data:null,error:i}:await S(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(v(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=(e==null?void 0:e.factors)||[],n=s.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=s.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:s,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(n.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((s=(t=n.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const l=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:l},error:null}}))}}Tt.nextInstanceID=0;const wc=Tt;class vc extends wc{constructor(e){super(e)}}var xc=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(l){try{u(s.next(l))}catch(f){a(f)}}function c(l){try{u(s.throw(l))}catch(f){a(f)}}function u(l){l.done?i(l.value):n(l.value).then(o,c)}u((s=s.apply(r,e||[])).next())})};class kc{constructor(e,t,s){var n,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=Lo(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Oo,realtime:Co,auth:Object.assign(Object.assign({},Eo),{storageKey:c}),global:Po},l=Do(s??{},u);this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=l.auth)!==null&&a!==void 0?a:{},this.headers,l.global.fetch),this.fetch=$o(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new Ja(`${o}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new ja(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new jo(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return xc(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,storageKey:i,flowType:a,lock:o,debug:c},u,l){var f;const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vc({url:this.authUrl,headers:Object.assign(Object.assign({},p),u),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,flowType:a,lock:o,debug:c,fetch:l,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(e){return new lo(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jc=(r,e,t)=>new kc(r,e,t),Sc="https://landlkbrtnvwwggsbrje.supabase.co",Tc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxhbmRsa2JydG52d3dnZ3NicmplIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzYxNjY5NDQsImV4cCI6MjA1MTc0Mjk0NH0.bUWMhYijpS52Ylz5tTmXULQPzj9T_tyYdL5cmoNxJXM",Pc=jc(Sc,Tc);async function Oc(r){const{data:e,error:t}=await Pc.from("products").select("*").eq("category",r).order("year",{ascending:!1}).order("single_core",{ascending:!1});if(t)throw t;return e||[]}function It(r){const{data:e=[],isLoading:t,error:s}=ia({queryKey:["products",r],queryFn:()=>Oc(r),staleTime:3e5,gcTime:18e5});return{products:e,loading:t,error:s instanceof Error?s.message:null}}function Ec(){const{t:r}=oe(),{products:e,loading:t,error:s}=It("processors");return t?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:r("common.loading")})}):s?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("p",{className:"text-xl text-red-600",children:s})}):h.jsxs(pe.main,{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[h.jsxs(ft,{children:[h.jsx("title",{children:"Mac  | Apple Silicon M1/M2/M3 "}),h.jsx("meta",{name:"description",content:" Mac  M1/M2/M3 "}),h.jsx("meta",{name:"keywords",content:"Mac,M1,M2,M3,,,,Apple Silicon"})]}),h.jsx("section",{className:"relative h-[40vh] flex items-center justify-center bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 transition-colors",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-5xl font-bold mb-4 text-blue-600 dark:text-blue-400",children:r("titles.processors")}),h.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:r("common.basedOn")})]})}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:h.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 transition-colors",children:[h.jsx("h2",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 text-center mb-12",children:r("common.performanceComparison")}),h.jsx(Rt,{products:e,showProcessor:!1})]})})]})}function rr({titleKey:r,titleColor:e="text-blue-600 dark:text-blue-400"}){const{t}=oe();return h.jsx(pe.section,{className:"relative h-[40vh] flex items-center justify-center bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 transition-colors",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:h.jsxs("div",{className:"text-center",children:[h.jsx(pe.h1,{className:`text-5xl font-bold mb-4 ${e}`,initial:{y:20},animate:{y:0},transition:{delay:.2},children:String(t(r))}),h.jsx(pe.p,{className:"text-xl text-gray-600 dark:text-gray-400",initial:{y:20},animate:{y:0},transition:{delay:.4},children:String(t("common.basedOn"))})]})})}function Cc(){const{t:r}=oe(),{products:e,loading:t,error:s}=It("macbook_pro");return t?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:r("common.loading")})}):s?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("p",{className:"text-xl text-red-600",children:s})}):h.jsxs("main",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors",children:[h.jsxs(ft,{children:[h.jsx("title",{children:"MacBook Pro  | M1/M2/M3 "}),h.jsx("meta",{name:"description",content:" MacBook Pro  M1/M2/M3  MacBook Pro "}),h.jsx("meta",{name:"keywords",content:"MacBook Pro,,M1,M2,M3,,,"}),h.jsx("link",{rel:"canonical",href:"https://mac-processor-ranking.com/macbook-pro"}),h.jsx("meta",{property:"og:title",content:"MacBook Pro  | M1/M2/M3 "}),h.jsx("meta",{property:"og:description",content:" MacBook Pro  M1/M2/M3  MacBook Pro "}),h.jsx("meta",{property:"og:url",content:"https://mac-processor-ranking.com/macbook-pro"})]}),h.jsx(rr,{titleKey:"titles.macbookPro"}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:h.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 transition-colors",children:[h.jsx("h2",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 text-center mb-12",children:r("common.performanceComparison")}),h.jsx(Rt,{products:e,showProcessor:!0})]})})]})}function Ac(){const{t:r}=oe(),{products:e,loading:t,error:s}=It("macbook_air");return t?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:r("common.loading")})}):s?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("p",{className:"text-xl text-red-600",children:s})}):h.jsxs("main",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors",children:[h.jsxs(ft,{children:[h.jsx("title",{children:"MacBook Air  | M1/M2/M3 "}),h.jsx("meta",{name:"description",content:" MacBook Air  M1/M2/M3  MacBook Air "}),h.jsx("meta",{name:"keywords",content:"MacBook Air,,M1,M2,M3,,,"}),h.jsx("link",{rel:"canonical",href:"https://mac-processor-ranking.com/macbook-air"}),h.jsx("meta",{property:"og:title",content:"MacBook Air  | M1/M2/M3 "}),h.jsx("meta",{property:"og:description",content:" MacBook Air  M1/M2/M3  MacBook Air "}),h.jsx("meta",{property:"og:url",content:"https://mac-processor-ranking.com/macbook-air"})]}),h.jsx(rr,{titleKey:"titles.macbookAir"}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:h.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 transition-colors",children:[h.jsx("h2",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 text-center mb-12",children:r("common.performanceComparison")}),h.jsx(Rt,{products:e,showProcessor:!0})]})})]})}function Rc(){const{t:r}=oe(),{products:e,loading:t,error:s}=It("mac_mini");return t?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:r("common.loading")})}):s?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("p",{className:"text-xl text-red-600",children:s})}):h.jsxs("main",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors",children:[h.jsxs(ft,{children:[h.jsx("title",{children:"Mac mini & Studio  | M1/M2/M3 "}),h.jsx("meta",{name:"description",content:" Mac mini  Mac Studio  M1/M2/M3 "}),h.jsx("meta",{name:"keywords",content:"Mac mini,Mac Studio,,M1,M2,M3,,,"}),h.jsx("link",{rel:"canonical",href:"https://mac-processor-ranking.com/mac-mini"}),h.jsx("meta",{property:"og:title",content:"Mac mini & Studio  | M1/M2/M3 "}),h.jsx("meta",{property:"og:description",content:" Mac mini  Mac Studio  M1/M2/M3 "}),h.jsx("meta",{property:"og:url",content:"https://mac-processor-ranking.com/mac-mini"})]}),h.jsx(rr,{titleKey:"titles.macMini"}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:h.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 transition-colors",children:[h.jsx("h2",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 text-center mb-12",children:r("common.performanceComparison")}),h.jsx(Rt,{products:e,showProcessor:!0})]})})]})}function Mc(){const{t:r}=oe(),{products:e,loading:t,error:s}=It("imac");return t?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:r("common.loading")})}):s?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("p",{className:"text-xl text-red-600",children:s})}):h.jsxs("main",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors",children:[h.jsxs(ft,{children:[h.jsx("title",{children:"iMac & Mac Pro  | M1/M2/M3 "}),h.jsx("meta",{name:"description",content:" iMac  Mac Pro  M1/M2/M3 "}),h.jsx("meta",{name:"keywords",content:"iMac,Mac Pro,,M1,M2,M3,,,"}),h.jsx("link",{rel:"canonical",href:"https://mac-processor-ranking.com/imac"}),h.jsx("meta",{property:"og:title",content:"iMac & Mac Pro  | M1/M2/M3 "}),h.jsx("meta",{property:"og:description",content:" iMac  Mac Pro  M1/M2/M3 "}),h.jsx("meta",{property:"og:url",content:"https://mac-processor-ranking.com/imac"})]}),h.jsx(rr,{titleKey:"titles.iMac"}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:h.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 transition-colors",children:[h.jsx("h2",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 text-center mb-12",children:r("common.performanceComparison")}),h.jsx(Rt,{products:e,showProcessor:!0})]})})]})}function $c(){const{t:r,language:e}=oe(),t=e==="en"?"About Mac Processor Rankings | Website Introduction":" Mac  | ",s=e==="en"?"Mac Processor Rankings provides comprehensive performance comparisons of Apple Silicon M1/M2/M3/M4 series processors.":"Mac  Apple Silicon M1/M2/M3/M4 ";return h.jsxs(pe.main,{className:"min-h-screen bg-white dark:bg-gray-900 pt-16",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[h.jsxs(ft,{children:[h.jsx("title",{children:t}),h.jsx("meta",{name:"description",content:s})]}),h.jsx("div",{children:"About Page Content"})]})}function Ic(){return h.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors flex flex-col",children:[h.jsx(pa,{}),h.jsx("div",{className:"flex-grow pt-16",children:h.jsxs(Ln,{children:[h.jsx(He,{path:"/",element:h.jsx(Ec,{})}),h.jsx(He,{path:"/macbook-pro",element:h.jsx(Cc,{})}),h.jsx(He,{path:"/macbook-air",element:h.jsx(Ac,{})}),h.jsx(He,{path:"/mac-mini",element:h.jsx(Rc,{})}),h.jsx(He,{path:"/imac",element:h.jsx(Mc,{})}),h.jsx(He,{path:"/about",element:h.jsx($c,{})})]})}),h.jsx(ma,{})]})}const Lc=new Bi,Cn=document.getElementById("root");if(!Cn)throw new Error("Failed to find the root element");const Dc=Us(Cn);Dc.render(h.jsx(fe.StrictMode,{children:h.jsx(Qi,{client:Lc,children:h.jsx(Qs,{children:h.jsx(Dn,{children:h.jsx(oa,{children:h.jsx(Ic,{})})})})})}));
//# sourceMappingURL=index-CW0HnF8e.js.map
